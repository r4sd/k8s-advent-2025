# 全ノード共通設定
machine:
  kubelet:
    extraArgs:
      rotate-server-certificates: true
  time:
    servers:
      - time.cloudflare.com
  features:
    rbac: true
    stableHostname: true

  # Tailscale Extension
  # Talos v1.11.x 対応バージョン: 1.88.1
  # 最新確認: https://github.com/siderolabs/extensions/releases
  install:
    extensions:
      - image: ghcr.io/siderolabs/tailscale:1.88.1

cluster:
  network:
    cni:
      name: flannel
    dnsDomain: cluster.local
    podSubnets:
      - 10.244.0.0/16
    serviceSubnets:
      - 10.96.0.0/12
  proxy:
    disabled: false
